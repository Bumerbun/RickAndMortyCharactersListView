import{_ as g}from"./nuxt-link.94ca53e5.js";import{n as D,q as S,_ as v,c as u,a,t as i,F as x,s as h,o as _,b as y,w}from"./entry.924c908b.js";import{u as B}from"./useApiStore.1ee1695e.js";const N=D("episode",{state:()=>({_id:null,episodeData:null}),actions:{async setId(d){if(this._id==d)return;const n=B();var s=null;try{s=(await n.get(`/episode/${d}`)).data}catch(t){console.log(t.message);return}for(let t=0;t<s.characters.length;t++)s.characters[t]=(({id:l,name:o,image:r})=>({id:l,name:o,image:r}))((await n.get(s.characters[t])).data);this.episodeData=s}},persist:{storage:S.localStorage}}),b={beforeMount(){this.episodeStore.setId(Number(this.$route.query.id))},mounted(){},data(){return{episodeStore:N()}},computed:{episodeData(){return this.episodeStore.episodeData}}};const k={class:"card_title"},I={class:"character_list"},$={class:"card"},q=["src"];function E(d,n,s,t,l,o){var p,c,m,f;const r=g;return _(),u("div",null,[a("div",k,[a("h2",null,i((p=o.episodeData)==null?void 0:p.name)+" "+i((c=o.episodeData)==null?void 0:c.episode),1),a("p",null,"Дата релиза: "+i((m=o.episodeData)==null?void 0:m.air_date),1)]),a("div",I,[(_(!0),u(x,null,h((f=o.episodeData)==null?void 0:f.characters,e=>(_(),u("div",$,[y(r,{to:`./character?id=${e==null?void 0:e.id}`},{default:w(()=>[a("img",{class:"image",src:e==null?void 0:e.image},null,8,q),a("p",null,i(e==null?void 0:e.name),1)]),_:2},1032,["to"])]))),256))])])}const A=v(b,[["render",E],["__scopeId","data-v-44c53fed"]]);export{A as default};
